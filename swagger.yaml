---
swagger: "2.0"
info:
  description: "This is the full local API for Agent DVR.  You can find out more about\
    \ AgentDVR at [https://www.ispyconnect.com](https://www.ispyconnect.com)\
    \ This interface uses the default API endpoint of http://localhost:8090. You will need Agent DVR installed and running to use it."
  title: 'Agent DVR'
  version: "5.0.3.0"
  termsOfService: "https://www.ispyconnect.com/terms.aspx"
  license:
    name: "Apache 2.0"
    url: "http://www.apache.org/licenses/LICENSE-2.0.html"
host: "localhost:8090"
basePath: "/"
consumes:
    - "application/json"
definitions:
    Alert:
        properties:
            ot:
                type: integer
            oid:
                type: integer
            reason:
                type: string
            msg:
                type: string
            time:
                type: string
            id:
                type: string
            read:
                type: boolean
            tags:
                type: string
    AlertsResponse:
        properties:
            alerts:
                items:
                    $ref: '#/definitions/Alert'
                type: array
    Event:
        properties:
            Ago:
                type: integer
            Ident:
                type: string
            Type:
                type: string
paths:
    /alerts.json:
        get:
            summary: Returns collection of the current alerts
            operationId: alerts.json
            produces:
                - application/json
            responses:
                "200":
                    description: Returns collection of the current alerts
                    schema:
                        $ref: '#/definitions/AlertsResponse'
            tags: 
            - Alerts
    /audio.mp3:
        get:
            summary: Returns live audio from the specified microphone in mp3 format
            operationId: audio.mp3
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            produces:
                - audio/mpeg
            responses:
                "200":
                    description: Returns live audio from the specified microphone in mp3 format
            tags: 
            - Audio
    /audio.ogg:
        get:
            summary: Returns live audio from the specified microphone in ogg format
            operationId: audio.ogg
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            produces:
                - application/ogg
            responses:
                "200":
                    description: Returns live audio from the specified microphone in ogg format
            tags: 
            - Audio
    /command/alert:
        get:
            summary: Trigger alert on the device.
            operationId: /command/alert
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: alert
            tags: 
            - Commands
    /command/alertOff:
        get:
            summary: Turn alerts off for the device.
            operationId: /command/alertOff
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn alerts off for the device.
            tags: 
            - Commands
    /command/alertOn:
        get:
            summary: Turn alerts on for the device.
            operationId: /command/alertOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn alerts on for the device.
            tags: 
            - Commands
    /command/allOff:
        get:
            summary: allOff
            operationId: /command/allOff
            produces:
                - application/json
            responses:
                "200":
                    description: allOff
            tags: 
            - Commands
    /command/allOn:
        get:
            summary: allOn
            operationId: /command/allOn
            produces:
                - application/json
            responses:
                "200":
                    description: allOn
            tags: 
            - Commands
    /command/applySchedule:
        get:
            summary: Apply schedule to all devices.
            operationId: /command/applySchedule
            produces:
                - application/json
            responses:
                "200":
                    description: Apply schedule to all devices.
            tags: 
            - Commands
    /command/applyScheduleToDevice:
        get:
            summary: Apply schedule to device.
            operationId: /command/applyScheduleToDevice
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Apply schedule to device.
            tags: 
            - Commands
    /command/arm:
        get:
            summary: Arm the system.
            operationId: /command/arm
            produces:
                - application/json
            responses:
                "200":
                    description: Arm the system.
            tags: 
            - Commands
    /command/blockExternal:
        get:
            summary: Block external access to the system.
            operationId: /command/blockExternal
            produces:
                - application/json
            responses:
                "200":
                    description: Block external access to the system.
            tags: 
            - Commands
    /command/cloudPhotosOff:
        get:
            summary: Turn cloud photos off for the device.
            operationId: /command/cloudPhotosOff
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn cloud photos off for the device.
            tags: 
            - Commands
    /command/cloudPhotosOn:
        get:
            summary: Turn cloud photos on for the device.
            operationId: /command/cloudPhotosOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn cloud photos on for the device.
            tags: 
            - Commands
    /command/cloudRecordingsOff:
        get:
            summary: Turn cloud recordings off for the device.
            operationId: /command/cloudRecordingsOff
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn cloud recordings off for the device.
            tags: 
            - Commands
    /command/cloudRecordingsOn:
        get:
            summary: Turn cloud recordings on for the device.
            operationId: /command/cloudRecordingsOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn cloud recordings on for the device.
            tags: 
            - Commands
    /command/detect:
        get:
            summary: Trigger detection for the device.
            operationId: /command/detect
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Trigger detection for the device.
            tags: 
            - Commands
    /command/disarm:
        get:
            summary: Disarm the system.
            operationId: /command/disarm
            produces:
                - application/json
            responses:
                "200":
                    description: Disarm the system.
            tags: 
            - Commands
    /command/ftpFrame:
        get:
            summary: Send a live frame via FTP.
            operationId: /command/ftpFrame
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Send a live frame via FTP.
            tags: 
            - Commands
    /command/ftpPhotosOff:
        get:
            summary: Turn FTP photos off for the device.
            operationId: /command/ftpPhotosOff
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn FTP photos off for the device.
            tags: 
            - Commands
    /command/ftpPhotosOn:
        get:
            summary: Turn FTP photos on for the device.
            operationId: /command/ftpPhotosOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn FTP photos on for the device.
            tags: 
            - Commands
    /command/ftpRecordingsOff:
        get:
            summary: Turn FTP recordings off for the device.
            operationId: /command/ftpRecordingsOff
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn FTP recordings off for the device.
            tags: 
            - Commands
    /command/ftpRecordingsOn:
        get:
            summary: Turn FTP recordings on for the device.
            operationId: /command/ftpRecordingsOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn FTP recordings on for the device.
            tags: 
            - Commands
    /command/getObject:
        get:
            summary: Get object by ID.
            operationId: /command/getObject
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Get object by ID.
            tags: 
            - Commands
    /command/getObjects:
        get:
            summary: getObjects
            operationId: /command/getObjects
            produces:
                - application/json
            responses:
                "200":
                    description: getObjects
            tags: 
            - Commands
    /command/getProfiles:
        get:
            summary: getProfiles
            operationId: /command/getProfiles
            produces:
                - application/json
            responses:
                "200":
                    description: getProfiles
            tags: 
            - Commands
    /command/getStatus:
        get:
            summary: getStatus
            operationId: /command/getStatus
            produces:
                - application/json
            responses:
                "200":
                    description: getStatus
            tags: 
            - Commands
    /command/ping:
        get:
            summary: ping
            operationId: /command/ping
            produces:
                - application/json
            responses:
                "200":
                    description: ping
            tags: 
            - Commands
    /command/record:
        get:
            summary: Start recording for the device.
            operationId: /command/record
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Start recording for the device.
            tags: 
            - Commands
    /command/settimestamp:
        get:
            summary: Change the timestamp display on the camera
            operationId: /command/settimestamp
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            - description: Text
              in: query
              name: text
              required: true
              type: string
            produces:
                - application/json
            responses:
                "200":
                    description: Change the timestamp display on the camera
            tags: 
            - Commands
    /command/settimestamp:
        get:
            summary: Tag the current recording
            operationId: /command/tagrecording
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            - description: Text
              in: query
              name: tag
              required: true
              type: string
            produces:
                - application/json
            responses:
                "200":
                    description: Tag the current live recording
            tags: 
            - Commands
    /command/triggerRecord:
        get:
            summary: Trigger recording for the device. Recording continues until Trigger Timeout is reached (on the recording tab of the device). Timeout is reset with each call.
            operationId: /command/triggerRecord
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Trigger temporary recording for the device.
            tags: 
            - Commands
    /command/recordStop:
        get:
            summary: Stop recording for the device.
            operationId: /command/recordStop
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Stop recording for the device.
            tags: 
            - Commands
    /command/recordingOff:
        get:
            summary: Turn recording off for the device.
            operationId: /command/recordingOff
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn recording off for the device.
            tags: 
            - Commands
    /command/recordOnAlertOn:
        get:
            summary: Turn record on alert on for the device.
            operationId: /command/recordOnAlertOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn record on alert on for the device.
            tags: 
            - Commands
    /command/recordOnDetectOn:
        get:
            summary: Turn record on detection on for the device.
            operationId: /command/recordOnDetectOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn record on detection on for the device.
            tags: 
            - Commands
    /command/reloadConfig:
        get:
            summary: reloadConfig
            operationId: /command/reloadConfig
            produces:
                - application/json
            responses:
                "200":
                    description: reloadConfig
            tags: 
            - Commands
    /command/reloadObjects:
        get:
            summary: reloadObjects
            operationId: /command/reloadObjects
            produces:
                - application/json
            responses:
                "200":
                    description: reloadObjects
            tags: 
            - Commands
    /command/restart:
        get:
            summary: restart
            operationId: /command/restart
            produces:
                - application/json
            responses:
                "200":
                    description: restart
            tags: 
            - Commands
    /command/rtmpStop:
        get:
            summary: rtmpStop
            operationId: /command/rtmpStop
            produces:
                - application/json
            responses:
                "200":
                    description: rtmpStop
            tags: 
            - Commands
    /command/runStorageMgmt:
        get:
            summary: Run storage management.
            operationId: /command/runStorageMgmt
            produces:
                - application/json
            responses:
                "200":
                    description: Run storage management.
            tags: 
            - Commands
    /command/saveLocalOff:
        get:
            summary: Turn save local off for the device.
            operationId: /command/saveLocalOff
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn save local off for the device.
            tags: 
            - Commands
    /command/saveLocalOn:
        get:
            summary: Turn save local on for the device.
            operationId: /command/saveLocalOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn save local on for the device.
            tags: 
            - Commands
    /command/scheduleOff:
        get:
            summary: Turn schedule off for the device.
            operationId: /command/scheduleOff
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn schedule off for the device.
            tags: 
            - Commands
    /command/scheduleOn:
        get:
            summary: Turn schedule on for the device.
            operationId: /command/scheduleOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Turn schedule on for the device.
            tags: 
            - Commands
    /command/setProfile:
        get:
            summary: Apply the specified profile with an index.
            operationId: /command/setProfile
            parameters:
            - description: Index (0=Home, 1=Away, 2=Night)
              enum:
              - 0
              - 1
              - 2
              in: query
              name: ind
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Apply the specified profile with an index.
            tags: 
            - Commands
    /command/stopCloudUploads:
        get:
            summary: stopCloudUploads
            operationId: /command/stopCloudUploads
            produces:
                - application/json
            responses:
                "200":
                    description: stopCloudUploads
            tags: 
            - Commands
    /command/switchOff:
        get:
            summary: Switch off the device.
            operationId: /command/switchOff
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Switch off the device.
            tags: 
            - Commands
    /command/switchOn:
        get:
            summary: Switch on the device.
            operationId: /command/switchOn
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Switch on the device.
            tags: 
            - Commands
    /command/unblockExternal:
        get:
            summary: Unblock external access to the system.
            operationId: /command/unblockExternal
            produces:
                - application/json
            responses:
                "200":
                    description: Unblock external access to the system.
            tags: 
            - Commands
    /command/actionOn:
        get:
            summary: Switches an action on
            operationId: /command/actionOn
            parameters:
            - description: ID (from the Action configuration in the UI)
              in: query
              name: ID
              required: true
              type: string
            produces:
                - application/json
            responses:
                "200":
                    description: Switches an action on
            tags: 
            - Commands
    /command/actionOff:
        get:
            summary: Switches an action off
            operationId: /command/actionOn
            parameters:
            - description: ID (from the Action configuration in the UI)
              in: query
              name: ID
              required: true
              type: string
            produces:
                - application/json
            responses:
                "200":
                    description: Switches an action off
            tags: 
            - Commands
    /command/actionRun:
        get:
            summary:  Executes an action (bypasses filtering)
            operationId: /command/actionOn
            parameters:
            - description: ID (from the Action configuration in the UI)
              in: query
              name: ID
              required: true
              type: string
            produces:
                - application/json
            responses:
                "200":
                    description: Executes an action
            tags: 
            - Commands        
    /command/switchDetector:
        get:
            summary: Switch the detector for the device on or off.
            operationId: /command/switchDetector
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            - description: On or Off
              enum:
              - true
              - false
              in: query
              name: on
              required: true
              type: boolean
            produces:
                - application/json
            responses:
                "200":
                    description: Switches the detector on or off
            tags: 
            - Commands           
    /command/purge:
        get:
            summary: 'Purge the control''s folder of all content (4.7.7.0+)'
            operationId: /command/purge
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Purges all recordings (deletes) for the control
            tags: 
            - Commands  
    /events.json:
        get:
            summary: Return a collection of event objects with details of the device events
            operationId: events.json
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            - description: Seconds
              in: query
              name: seconds
              required: true
              minimum: 1
              maximum: 600
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Return a collection of event objects with details of the device events over the last 60 seconds (seconds can be up to 600)
                    schema:
                        items:
                         $ref: '#/definitions/Event'
                        type: array
            tags: 
            - Events
    /grab.jpg:
        get:
            summary: Returns a still image for the specified object(s)
            operationId: grab.jpg
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: false
              type: integer
            - description: Object IDs (1,2,3,4)
              in: query
              name: oids
              required: false
              type: string
            - description: Background Color - RGB format (255,0,0)
              in: query
              name: backColor
              required: false
              type: string
            - description: Maintain Aspect Ratio
              in: query
              name: maintainAR
              required: false
              type: boolean
            - description: Size (320x240)
              in: query
              name: size
              required: false
              type: string
            produces:
                - image/jpeg
            responses:
                "200":
                    description: Returns a still image for the specified object(s)
            tags: 
            - Media
    /grabImage.jpg:
        get:
            summary: Returns a full size image for the specified object and filename
            operationId: grabImage.jpg
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Filename (2021-01-19_12-22-55_125.jpg)
              in: query
              name: fn
              required: true
              type: string
            produces:
                - image/jpeg
            responses:
                "200":
                    description: Returns a full size image for the specified object and filename
            tags: 
            - Media
    /grabThumb.jpg:
        get:
            summary: Returns a thumbnail image for the specified object and filename
            operationId: grabThumb.jpg
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Filename (2021-01-19_12-22-55_125.jpg)
              in: query
              name: fn
              required: true
              type: string
            produces:
                - image/jpeg
            responses:
                "200":
                    description: Returns a thumbnail image for the specified object and filename
            tags: 
            - Media
    /ptz.cgi:
        get:
            summary: PTZ controls
            operationId: ptz.cgi
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Command (the url encoded portion in the extended commands options from the PTZ2.xml)
              in: query
              name: cmd
              required: false
              type: string
            - description: Direction (0 for center, 1 = left, 2=up left, 3 = up, 4 = up right, 5 = right, 6 = down right, 7 = down, 8 = down left, 9 = zoom in, 10 = zoom out, 11 = stop)
              enum:
              - 0
              - 1
              - 2
              - 3
              - 4
              - 5
              - 6
              - 7
              - 8
              - 9
              - 10
              - 11
              in: query
              name: dir
              required: false
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: OK
            tags: 
            - PTZ
    /q.json:
        get:
            summary: Queries
            operationId: q.json
            parameters:
            - description: Command
              enum:
                - addcamera
                - addonvif
                - addrecording
                - appendtimestamp
                - armgroups
                - armprofile
                - disarmgroups
                - disarmprofile
                - getcameragrabs
                - getevents
                - getsessioncount
                - getstreamingstatus
                - recordRestart
                - setsensitivity
                - settimestamp
                - start-rtmp
                - start-rtmp-view
                - stop-rtmp
            produces:
                - application/json
            responses:
                "200":
                  description: OK
            tags: 
            - Query
    /q/queryLevel:
        get:
            summary: Returns the detected motion or sound level of the device
            operationId: /q/queryLevel
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            produces:
                - application/json
            responses:
                "200":
                    description: Audio level where 1 is max and 0 is min
            tags: 
            - Query
    /q/getSessionCount:
        get:
            summary: Returns the number of active sessions.
            operationId: /q/getSessionCount
            produces:
                - application/json
            responses:
                "200":
                  description: OK
            tags: 
            - Queries
    /q/getStreamingStatus:
        get:
            summary: Get a JSON list of configured RTMP servers (with status). This provides an ident field you use in subsequent requests.
            operationId: /q/getStreamingStatus
            produces:
                - application/json
            responses:
                "200":
                  description: Get a JSON list of configured RTMP servers (with status). This provides an ident field you use in subsequent requests.
            tags: 
            - Queries
    /streamFile:
        get:
            summary: Stream the file to the caller
            operationId: /streamFile
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Object TypeID
              enum:
              - 1
              - 2
              in: query
              name: ot
              required: true
              type: integer
            - description: Filename (3_2021-01-21_16-34-42_977.mkv)
              in: query
              name: fn
              required: true
              type: string
            produces:
                - video/x-matroska
                - video/mp4
            responses:
                "200":
                    description: Stream the file to the caller. The filename is from the "fn" property in the json from the getevents call. It is up to the calling application to provide playback facility.
            tags: 
            - Streams
    /video.gif:
        get:
            summary: Generate an animated gif from the live camera stream
            operationId: video.gif
            parameters:
            - description: Object ID
              in: query
              name: oid
              required: true
              type: integer
            - description: Frame rate (FPS)
              in: query
              name: framerate
              required: true
              type: integer
            - description: Seconds
              in: query
              name: secs
              required: true
              type: integer
            - description: Size (640x480)
              in: query
              name: size
              required: true
              type: string
            produces:
                - image/gif
            responses:
                "200":
                    description: Generate an animated gif from the live camera stream
            tags: 
            - Media
    /video.mjpg:
        get:
            description: Grid of cameras
            operationId: video.mjpg
            parameters:
            - description: Object IDs (1,2,3,4)
              in: query
              name: oids
              required: true
              type: string
            - description: Background Color - RGB format (255,0,0)
              in: query
              name: backColor
              required: false
              type: string
            - description: Cycle (Seconds)
              in: query
              name: cycle
              required: false
              type: integer
            - description: Fit Type
              enum:
              - Zoom
              in: query
              name: fitType
              required: false
              type: string
            - description: Group
              in: query
              name: group
              required: false
              type: string
            - description: Maintain Aspect Ratio
              in: query
              name: maintainAR
              required: false
              type: boolean
            - description: Size (320x240)
              in: query
              name: size
              required: false
              type: string
            produces:
                - image/jpeg
            responses:
                "200":
                    description: Return a grid of cameras in mjpeg form
            tags: 
            - Media
    /video.mp4:
        get:
            summary: Returns a grid of cameras in mp4 form (the first camera with audio provides the audio stream)
            operationId: video.mp4
            parameters:
            - description: Object IDs (1,2,3,4)
              in: query
              name: oids
              required: true
              type: string
            - description: Size (320x240)
              in: query
              name: size
              required: false
              type: string
            produces:
                - video/mp4
            responses:
                "200":
                    description: Returns a grid of cameras in mp4 form (the first camera with audio provides the audio stream)
            tags: 
            - Media
    /video.webm:
        get:
            summary: Returns a grid of cameras in mp4 form (the first camera with audio provides the audio stream)
            operationId: video.webm
            parameters:
            - description: Object IDs (1,2,3,4)
              in: query
              name: oids
              required: true
              type: string
            - description: Size (320x240)
              in: query
              name: size
              required: false
              type: string
            produces:
                - video/mp4
            responses:
                "200":
                    description: Returns a grid of cameras in mp4 form (the first camera with audio provides the audio stream)
            tags: 
            - Media
produces:
    - application/json
schemes:
    - http
externalDocs:
  description: "Find out more about Agent DVR"
  url: "https://www.ispyconnect.com/"
